{"ast":null,"code":"import _objectSpread from\"/Users/ziho/testapp2/capstoneWeb/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from'react';import{Formik}from'formik';import*as Yup from'yup';import{registerUser}from'../../../_actions/user_actions';import{useDispatch}from'react-redux';import{Form,Input,Button}from'antd';var formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};var tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function RegisterPage(props){var dispatch=useDispatch();console.log(props.location.state.studentid);var studentid=props.location.state.studentid;var studentcard=props.location.state.filePath;return/*#__PURE__*/_jsx(Formik,{initialValues:{email:'',studentId:studentid,name:'',password:'',confirmPassword:''},validationSchema:Yup.object().shape({name:Yup.string().required('이름을 입력해주세요'),email:Yup.string().email('이메일 형식이 잘못되었습니다').required('이메일을 입력해주세요'),password:Yup.string().min(6,'비밀번호는 최소 6자리 이상 입력해주세요').required('비밀번호를 입력해주세요'),confirmPassword:Yup.string().oneOf([Yup.ref('password'),null],'비밀번호를 똑같이 입력해주세요').required('비밀번호를 입력해주세요')}),onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;setTimeout(function(){var dataToSubmit={email:values.email,password:values.password,name:values.name,studentId:studentid,studentcard:studentcard};dispatch(registerUser(dataToSubmit)).then(function(response){if(response.payload.success){props.history.push('/login');}else{alert(response.payload.message);}});setSubmitting(false);},500);},children:function children(props){var values=props.values,touched=props.touched,errors=props.errors,dirty=props.dirty,isSubmitting=props.isSubmitting,handleChange=props.handleChange,handleBlur=props.handleBlur,handleSubmit=props.handleSubmit,handleReset=props.handleReset;return/*#__PURE__*/_jsxs(\"div\",{className:\"contents\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form,_objectSpread(_objectSpread({style:{minWidth:'375px'}},formItemLayout),{},{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Item,{required:true,label:\"\\uC774\\uB984\",children:[/*#__PURE__*/_jsx(Input,{id:\"name\",placeholder:\"\\uC774\\uB984\",type:\"text\",value:values.name,onChange:handleChange,onBlur:handleBlur,className:errors.name&&touched.name?'text-input error':'text-input'}),errors.name&&touched.name&&/*#__PURE__*/_jsx(\"div\",{className:\"input-feedback\",children:errors.name})]}),/*#__PURE__*/_jsx(Form.Item,{required:true,label:\"\\uD559\\uBC88\",children:/*#__PURE__*/_jsx(Input,{id:\"studentId\",disabled:true,type:\"text\",value:studentid,onChange:handleChange,onBlur:handleBlur})}),/*#__PURE__*/_jsxs(Form.Item,{required:true,label:\"Email\",hasFeedback:true,children:[/*#__PURE__*/_jsx(Input,{id:\"email\",placeholder:\"Email\",type:\"email\",value:values.email,onChange:handleChange,onBlur:handleBlur,className:errors.email&&touched.email?'text-input error':'text-input'}),errors.email&&touched.email&&/*#__PURE__*/_jsx(\"div\",{className:\"input-feedback\",children:errors.email})]}),/*#__PURE__*/_jsxs(Form.Item,{required:true,label:\"\\uBE44\\uBC00\\uBC88\\uD638\",hasFeedback:true,children:[/*#__PURE__*/_jsx(Input,{id:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",type:\"password\",value:values.password,onChange:handleChange,onBlur:handleBlur,className:errors.password&&touched.password?'text-input error':'text-input'}),errors.password&&touched.password&&/*#__PURE__*/_jsx(\"div\",{className:\"input-feedback\",children:errors.password})]}),/*#__PURE__*/_jsxs(Form.Item,{required:true,label:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",hasFeedback:true,children:[/*#__PURE__*/_jsx(Input,{id:\"confirmPassword\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",type:\"password\",value:values.confirmPassword,onChange:handleChange,onBlur:handleBlur,className:errors.confirmPassword&&touched.confirmPassword?'text-input error':'text-input'}),errors.confirmPassword&&touched.confirmPassword&&/*#__PURE__*/_jsx(\"div\",{className:\"input-feedback\",children:errors.confirmPassword})]}),/*#__PURE__*/_jsx(Form.Item,_objectSpread(_objectSpread({},tailFormItemLayout),{},{children:/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,type:\"primary\",disabled:isSubmitting,children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})}))]}))]});}});}export default RegisterPage;","map":null,"metadata":{},"sourceType":"module"}