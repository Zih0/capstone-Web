{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/ziho/testapp2/capstoneWeb/client/src/utils/VideoUpload.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useCallback } from 'react';\nimport Webcam from 'react-webcam';\nimport { Progress, Button, Typography } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport Fade from 'react-reveal/Fade';\nconst {\n  Title,\n  Paragraph,\n  Text\n} = Typography;\n\nconst VideoUpload = props => {\n  _s();\n\n  const user = useSelector(state => state.user);\n  const [webcamExists, setWebcamExists] = useState(true);\n  const [percent, setPercent] = useState(0);\n  const webcamRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const [capturing, setCapturing] = useState(false);\n  const [recordedChunks, setRecordedChunks] = useState([]);\n  const [video, setVideo] = useState('');\n  const [imgSrc, setImgSrc] = useState(null);\n\n  const CloseWebcamHandler = () => {\n    setWebcamExists(false);\n  };\n\n  const StartCaptureClickHandler = () => {\n    setCapturing(true);\n    setRecordedChunks([]);\n    setImgSrc(null);\n    mediaRecorderRef.current = new MediaRecorder(webcamRef.current.stream, {\n      mimeType: 'video/webm'\n    });\n    mediaRecorderRef.current.addEventListener('dataavailable', handleDataAvailable);\n    mediaRecorderRef.current.start();\n    let percentage = percent;\n    const timer = setInterval(() => {\n      percentage = percentage + 1;\n      setPercent(percentage);\n\n      if (percentage >= 100) {\n        setCapturing(false);\n        mediaRecorderRef.current.stop();\n        setPercent(0);\n        clearInterval(timer);\n      }\n    }, 100);\n  };\n\n  const handleDataAvailable = useCallback(({\n    data\n  }) => {\n    if (data.size > 0) {\n      setRecordedChunks([data]);\n      MakeBlob([data]);\n    }\n  }, [setRecordedChunks]);\n\n  const MakeBlob = file => {\n    const blob = new Blob(file, {\n      type: \"video/webm\"\n    });\n    const url = URL.createObjectURL(blob);\n    setImgSrc(url);\n  };\n\n  const SaveHandler = file => {\n    const blob = new Blob(file, {\n      type: \"video/webm\"\n    });\n    let formData = new FormData();\n    const config = {\n      header: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    formData.append('studentid', user.userData.studentId);\n    formData.append('file', blob);\n    axios.post('/api/datas/uploadfile', formData, config).then(response => {\n      if (response.data.success) {\n        setVideo(response.data.filePath);\n        props.saveVideoHandler(response.data.filePath);\n        props.updateStartHandler();\n        CloseWebcamHandler();\n      } else {\n        console.log(response);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"\\uC601\\uC0C1 \\uB4F1\\uB85D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        border: '1px solid lightgray',\n        borderStyle: 'dashed',\n        height: '300px',\n        padding: '1rem 1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Fade, {\n        children: webcamExists && /*#__PURE__*/_jsxDEV(Webcam, {\n          audio: false,\n          ref: webcamRef,\n          height: 230,\n          width: 306,\n          screenshotFormat: \"video/webm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 10\n      }, this), imgSrc && /*#__PURE__*/_jsxDEV(Fade, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"video\", {\n            controls: true,\n            height: \"230\",\n            autoPlay: true,\n            children: /*#__PURE__*/_jsxDEV(\"source\", {\n              src: imgSrc,\n              type: \"video/webm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      children: [capturing ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" \\uB179\\uD654\\uC911 \\uD83D\\uDCF9 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        onClick: StartCaptureClickHandler,\n        children: \"\\uC601\\uC0C1 \\uB179\\uD654\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: '1rem'\n        },\n        children: imgSrc && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => SaveHandler(recordedChunks),\n          children: \"\\uC601\\uC0C1 \\uC800\\uC7A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), !imgSrc && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '300px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Progress, {\n        percent: percent,\n        showInfo: false,\n        strokeWidth: 13\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this), imgSrc && /*#__PURE__*/_jsxDEV(Fade, {\n      children: /*#__PURE__*/_jsxDEV(Paragraph, {\n        children: [\"\\uB2E4\\uC2DC \\uB179\\uD654\\uD558\\uACE0 \\uC2F6\\uC73C\\uBA74 \", /*#__PURE__*/_jsxDEV(Text, {\n          code: true,\n          children: \"\\uC601\\uC0C1\\uB179\\uD654\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 32\n        }, this), \"\\uB97C \\uB20C\\uB7EC\\uC8FC\\uC2DC\\uACE0, \\uD574\\uB2F9 \\uC601\\uC0C1\\uC73C\\uB85C \\uB4F1\\uB85D\\uD558\\uC2DC\\uB824\\uBA74 \", /*#__PURE__*/_jsxDEV(Text, {\n          code: true,\n          children: \"\\uC601\\uC0C1\\uC800\\uC7A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 78\n        }, this), \"\\uC744 \\uB20C\\uB7EC\\uC8FC\\uC138\\uC694.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true);\n};\n\n_s(VideoUpload, \"bDs2YWakiZRKEeJDyhsknEtV5a4=\", false, function () {\n  return [useSelector];\n});\n\n_c = VideoUpload;\nexport default VideoUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoUpload\");","map":{"version":3,"sources":["/Users/ziho/testapp2/capstoneWeb/client/src/utils/VideoUpload.js"],"names":["React","useState","useRef","useCallback","Webcam","Progress","Button","Typography","axios","useSelector","Fade","Title","Paragraph","Text","VideoUpload","props","user","state","webcamExists","setWebcamExists","percent","setPercent","webcamRef","mediaRecorderRef","capturing","setCapturing","recordedChunks","setRecordedChunks","video","setVideo","imgSrc","setImgSrc","CloseWebcamHandler","StartCaptureClickHandler","current","MediaRecorder","stream","mimeType","addEventListener","handleDataAvailable","start","percentage","timer","setInterval","stop","clearInterval","data","size","MakeBlob","file","blob","Blob","type","url","URL","createObjectURL","SaveHandler","formData","FormData","config","header","append","userData","studentId","post","then","response","success","filePath","saveVideoHandler","updateStartHandler","console","log","display","justifyContent","alignItems","border","borderStyle","height","padding","marginLeft","width"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport Webcam from 'react-webcam';\nimport { Progress, Button, Typography } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport Fade from 'react-reveal/Fade';\n\n\nconst { Title, Paragraph, Text } = Typography;\n\nconst VideoUpload = (props) => {\n  const user = useSelector((state) => state.user);\n  const [webcamExists, setWebcamExists] = useState(true)\n  const [percent, setPercent] = useState(0);\n  const webcamRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const [capturing, setCapturing] = useState(false);\n  const [recordedChunks, setRecordedChunks] = useState([]);\n  const [video, setVideo] = useState('');\n  const [imgSrc, setImgSrc] = useState(null);\n\n  const CloseWebcamHandler = () =>{\n    setWebcamExists(false)\n  }\n\n  const StartCaptureClickHandler = () => {\n    setCapturing(true);\n    setRecordedChunks([]);\n    setImgSrc(null);\n    mediaRecorderRef.current = new MediaRecorder(webcamRef.current.stream, {\n      mimeType: 'video/webm',\n    });\n    mediaRecorderRef.current.addEventListener('dataavailable', handleDataAvailable);\n    mediaRecorderRef.current.start();\n\n    let percentage = percent;\n    const timer = setInterval(() => {\n      percentage = percentage + 1;\n      setPercent(percentage);\n      if (percentage >= 100) {\n        setCapturing(false);\n        mediaRecorderRef.current.stop();\n        setPercent(0);\n        clearInterval(timer);\n      }\n    }, 100);\n  };\n\n  const handleDataAvailable = useCallback(\n    ({ data }) => {\n      if (data.size > 0) {\n        setRecordedChunks([data]);\n        MakeBlob([data]);\n      }\n    },\n    [setRecordedChunks]\n  );\n\n\n  const MakeBlob = (file) => {\n    const blob = new Blob(file, {\n      type: \"video/webm\"\n    });\n    const url = URL.createObjectURL(blob);\n    setImgSrc(url);\n  }\n\n  const SaveHandler = (file) => {\n    const blob = new Blob(file, {\n      type: \"video/webm\"\n    });\n    let formData = new FormData();\n    const config = {\n      header: { 'content-type': 'multipart/form-data' },\n    };\n    formData.append('studentid', user.userData.studentId);\n    formData.append('file', blob);\n    axios.post('/api/datas/uploadfile', formData, config).then((response) => {\n      if (response.data.success) {\n        setVideo(response.data.filePath);\n        props.saveVideoHandler(response.data.filePath);\n        props.updateStartHandler();\n        CloseWebcamHandler()\n      } else {\n        console.log(response)\n      }\n    });\n\n  };\n\n  return (\n    <>\n      <Title>영상 등록</Title>\n      <div style={{ display: 'flex' , justifyContent:'center', alignItems: 'center',  border: '1px solid lightgray', borderStyle: 'dashed', height: '300px', padding: '1rem 1rem'}}>\n         <Fade>\n        {webcamExists && <Webcam\n          audio={false}\n          ref={webcamRef}\n          height={230}\n          width={306}\n          screenshotFormat=\"video/webm\"\n        />}\n        </Fade>\n          {imgSrc && (\n            <Fade>\n            <div style={{marginLeft: '1rem'}}>\n            <video controls height=\"230\" autoPlay>\n              <source src={imgSrc} type=\"video/webm\" />\n            </video>\n            </div>\n            </Fade>\n          )}\n          \n      </div>\n      <br />\n      \n      <div style={{ display: 'flex' }}>\n        {capturing ? (\n          <p> 녹화중 📹 </p>\n        ) : (\n            <Button onClick={StartCaptureClickHandler}>영상 녹화</Button>\n          )}\n        <div style={{ marginLeft: '1rem' }}>\n          {imgSrc && (\n            <Button onClick={() => SaveHandler(recordedChunks)}>영상 저장</Button>\n          )}\n        </div>\n      </div>\n      <br />\n      {!imgSrc && (\n        <div style={{ width: '300px' }}>\n          <Progress percent={percent} showInfo={false} strokeWidth={13} />\n        </div>\n      )}\n      \n      {imgSrc && (<Fade>\n        <Paragraph>다시 녹화하고 싶으면 <Text code>영상녹화</Text>를 눌러주시고, 해당 영상으로 등록하시려면 <Text code>영상저장</Text>을 눌러주세요.</Paragraph>\n        </Fade>\n      )}\n     \n    </>\n  );\n};\n\nexport default VideoUpload;\n"]},"metadata":{},"sourceType":"module"}