{"ast":null,"code":"import _objectSpread from\"/Users/ziho/testapp2/capstoneWeb/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ziho/testapp2/capstoneWeb/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useCallback}from'react';import{useDropzone}from'react-dropzone';import{LoadingOutlined}from'@ant-design/icons';import{Typography,Divider}from'antd';import axios from'axios';var Paragraph=Typography.Paragraph,Text=Typography.Text;var ImgUpload=function ImgUpload(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),Image=_useState2[0],setImage=_useState2[1];var onDrop=useCallback(function(files){var formData=new FormData();var config={header:{'content-type':'multipart/form-data'}};formData.append('file',files[0]);props.loadingFunction(true);axios.post('/api/datas/studentcard',formData,config).then(function(response){if(response.data.success){setImage(response.data.filePath);props.refreshFunction(response);props.loadingFunction(false);props.ableFunction(false);console.log(response.data.filePath);console.log(response.data.studentid);}else{props.loadingFunction(false);props.ableFunction(true);alert('사진에서 학번을 못찾았습니다.');}});},[Image]);var _useDropzone=useDropzone({onDrop:onDrop}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps,isDragActive=_useDropzone.isDragActive,acceptedFiles=_useDropzone.acceptedFiles;var files=acceptedFiles.map(function(file){return/*#__PURE__*/_jsx(\"li\",{children:file.path},file.path);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({style:{width:200,height:160,border:'1px solid lightgray',display:'flex',alignItems:'center',justifyContent:'center'}},getRootProps({className:'dropzone'})),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),isDragActive?/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:'3rem'}}):/*#__PURE__*/_jsxs(Paragraph,{style:{fontSize:'1rem',textAlign:'center'},children:[\"\\uC0AC\\uC9C4\\uC744 \",/*#__PURE__*/_jsx(Text,{type:\"danger\",children:\"\\uB4DC\\uB798\\uADF8\"}),\"\\uD558\\uAC70\\uB098,\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uBC15\\uC2A4\\uB97C \",/*#__PURE__*/_jsx(Text,{type:\"danger\",children:\"\\uD074\\uB9AD\"}),\"\\uD574\\uC8FC\\uC138\\uC694\",' ']})]})),/*#__PURE__*/_jsx(Divider,{})]}),/*#__PURE__*/_jsx(\"aside\",{children:/*#__PURE__*/_jsx(\"ul\",{children:files})})]});};export default ImgUpload;","map":null,"metadata":{},"sourceType":"module"}