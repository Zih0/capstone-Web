{"ast":null,"code":"import _objectSpread from\"/Users/ziho/testapp2/capstoneWeb/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ziho/testapp2/capstoneWeb/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useCallback}from\"react\";import{useDropzone}from\"react-dropzone\";import axios from\"axios\";import{Typography}from'antd';import{LoadingOutlined}from'@ant-design/icons';import{useSelector}from'react-redux';var Title=Typography.Title,Paragraph=Typography.Paragraph,Text=Typography.Text;var FileUpload=function FileUpload(props){var user=useSelector(function(state){return state.user;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),Video=_useState2[0],setVideo=_useState2[1];var onDrop=useCallback(function(files){var formData=new FormData();var config={header:{\"content-type\":\"multipart/form-data\"}};formData.append('studentid',user.userData.studentId);formData.append(\"file\",files[0]);axios.post('/api/datas/uploadfile',formData,config).then(function(response){if(response.data.success){setVideo(response.data.filePath);props.saveVideoHandler(response.data.filePath);props.updateStartHandler();}else{alert('파일을 저장하는데 실패했습니다.');}});},[Video]);var _useDropzone=useDropzone({onDrop:onDrop,accept:'video/*'}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps,isDragActive=_useDropzone.isDragActive;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{children:\"\\uC601\\uC0C1 \\uB4F1\\uB85D\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"section\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({style:{width:300,height:240,border:\"1px solid lightgray\",borderStyle:'dashed',display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}},getRootProps({className:\"dropzone\"})),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),isDragActive?/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:\"3rem\"}}):/*#__PURE__*/_jsxs(Paragraph,{style:{fontSize:\"1rem\",textAlign:'center'},children:[\" \\uC5C5\\uB85C\\uB4DC \\uD560 \\uB3D9\\uC601\\uC0C1\\uC744 \",/*#__PURE__*/_jsx(Text,{type:\"danger\",children:\"\\uB4DC\\uB798\\uADF8\"}),\"\\uD558\\uAC70\\uB098,\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uBC15\\uC2A4\\uB97C  \",/*#__PURE__*/_jsx(Text,{type:\"danger\",children:\"\\uD074\\uB9AD\"}),\"\\uD574\\uC8FC\\uC138\\uC694 \"]})]}))})]});};export default FileUpload;","map":null,"metadata":{},"sourceType":"module"}